(this.webpackJsonptree=this.webpackJsonptree||[]).push([[0],{131:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(9),o=n.n(r),h="RESIZE",d="SET_ACTIVE_NODE",l="SET_FILTER",s="ZOOM",c="PAN",u="RESET_VIEW";function p(){b.dispatch({type:h})}function m(e,t,n){b.dispatch({type:s,zoomX:e,zoomY:t,scale:n})}function f(e,t){b.dispatch({type:c,panX:e,panY:t})}function v(e){b.dispatch({type:d,node:e})}function w(e){b.dispatch({type:l,filter:e})}var g=n(13),y=n.n(g),E=n(40),b=Object(E.c)(Object(E.b)({activeNode:function(e,t){if("undefined"===typeof e)return null;switch(t.type){case d:return t.node}return e},filter:function(e,t){if("undefined"===typeof e)return"";switch(t.type){case l:return t.filter}return e},height:function(e,t){if("undefined"===typeof e)return y()(window).height()-25;switch(t.type){case h:return y()(window).height()-y()("#header").height();case u:return y()(window).height()-25}return e},width:function(e,t){if("undefined"===typeof e)return y()(window).width();switch(t.type){case h:case u:return y()(window).width()}return e},panX:function(e,t){if("undefined"===typeof e)return 0;switch(t.type){case c:return t.panX;case u:return 0}return e},panY:function(e,t){if("undefined"===typeof e)return 0;switch(t.type){case c:return t.panY;case u:return 0}return e},zoomX:function(e,t){if("undefined"===typeof e)return y()(window).width();switch(t.type){case s:return t.zoomX;case u:return y()(window).width()}return e},zoomY:function(e,t){if("undefined"===typeof e)return y()(window).height()-25;switch(t.type){case s:return t.zoomY;case u:return y()(window).height()-25}return e}}),void 0,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),J=n(79),C=n(11),k=(n(93),n(21)),N=n(22),S=n(27),P=n(24),j=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"handleChange",value:function(e){w(e.target.value)}},{key:"render",value:function(){return i.a.createElement("input",{id:"search",type:"text",placeholder:"Find Name ...",value:this.props.filter,onChange:this.handleChange})}}]),n}(i.a.PureComponent),D=n(176),O=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){p()}},{key:"handleClick",value:function(){v("0"),w(""),b.dispatch({type:u}),window.resetGlobal()}},{key:"render",value:function(){return i.a.createElement("div",{id:"header"},i.a.createElement(j,{filter:this.props.filter}),i.a.createElement(D.a,{onClick:this.handleClick,variant:"contained",color:"primary",style:{maxHeight:"25px",minHeight:"25px",fontSize:"11px"},size:"small"},"Reset"),!1)}}]),n}(i.a.PureComponent),X=n(58),Y=n.n(X),R=n(78),A=n.n(R),M=n(62),L=n(175),x=n(178),T=n(174),I=n(173),_=n(179),z=n(129);function H(e){var t=i.a.useState(!0),n=Object(M.a)(t,2),a=n[0],r=n[1],o=function e(t,n){if(n.id===t)return n;for(var a=0;a<n.children.length;a++){var i=e(t,n.children[a]);if(i)return i}return null}(e.nodeId,e.data),h=i.a.useState(z.cloneDeep(o)),d=Object(M.a)(h,2),l=d[0],s=d[1],c=Object.assign({},l),u=i.a.createRef(),p=i.a.createRef(),m=function(){r(!1),e.formSubmitCB(null)};return i.a.createElement("div",null,i.a.createElement(x.a,{open:a,onClose:m,"aria-labelledby":"form-dialog-title",maxWidth:"sm"},i.a.createElement(_.a,{id:"form-dialog-title"},"Edit Info"),i.a.createElement(I.a,null,i.a.createElement(L.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"name",defaultValue:l.name,inputRef:function(e){u=e},variant:"outlined",fullWidth:!0}),l.partner&&i.a.createElement(L.a,{margin:"dense",id:"partner",label:"Partner's Name",type:"name",defaultValue:l.partner.name,variant:"outlined",inputRef:function(e){p=e},fullWidth:!0}),function(){var e=0,t=[];if(!l)return t;for(;e<l.children.length;)e<o.children.length?t.push(i.a.createElement(L.a,{disabled:!0,margin:"dense",id:"name",label:"Child "+(e+1),key:"Child "+(e+1),type:"name",defaultValue:l.children[e].name,fullWidth:!0,variant:"outlined"})):t.push(i.a.createElement(L.a,{margin:"dense",id:"name",label:"Child "+(e+1),key:"Child "+(e+1),type:"name",defaultValue:l.children[e].name,fullWidth:!0,variant:"outlined"})),e++;return t}()),i.a.createElement(D.a,{variant:"outlined",onClick:function(){c.children.push({name:"Add Name ...",children:[]}),s(c)},color:"primary"},"Add Child"),i.a.createElement(T.a,null,i.a.createElement(D.a,{variant:"contained",onClick:function(){r(!1),l.name=u.value,l.partner.name=p.value,o.name=l.name,o.partner=l.partner,o.children=l.children,e.formSubmitCB(l)},color:"primary"},"Save"),i.a.createElement(D.a,{variant:"contained",onClick:m,color:"primary"},"Cancel"))))}var W=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).handleClick=function(e,t){a.setState({currentNode:t}),a.props.editMode?a.setState({formActive:!0}):w("")},a.formClose=function(e){a.setState({formActive:!1})},a.pathCB=function(e,t,n){console.log(e),console.log(t),console.log(n)},a.getChildren=function(e){var t=void 0;return e.id?(a.state.currentNode!==e.id||a.props.editMode?t=a.closeNode.has(e.id)?void 0:e.children:(a.state.currentNode=void 0,a.closeNode.has(e.id)?(a.closeNode.delete(e.id),t=e.children):(a.closeNode.add(e.id),e.children=void 0,t=void 0)),t):e.children},a.data=e.data,a.state={key:0,currentNode:void 0,formActive:!1},a.closeNode=new Set,a.hiddenNode=new Set,a.props.editMode||a.populateCloseSet(a.data),a}return Object(N.a)(n,[{key:"populateCloseSet",value:function(e){if(this.closeNode.add(e.id),e.children)for(var t=0;t<e.children.length;t++)this.populateCloseSet(e.children[t])}},{key:"resetCloseSet",value:function(e){if(this.closeNode.has(e.id)&&this.closeNode.delete(e.id),e.children)for(var t=0;t<e.children.length;t++)this.resetCloseSet(e.children[t])}},{key:"getRoot",value:function(e,t){if(e.id===t)return e;for(var n=0;n<e.children.length;n++){var a=this.getRoot(e.children[n],t);if(a)return a}return!1}},{key:"buildSubTree",value:function(e){for(var t=0,n=0;n<e.children.length;n++)this.buildSubTree(e.children[n])&&t++;return t>0||0===e.name.toLowerCase().indexOf(this.props.filter.toLowerCase())?(this.closeNode.has(e.id)&&this.closeNode.delete(e.id),e):(this.closeNode.add(e.id),null)}},{key:"setClassName",value:function(e){e.children.forEach(this.setClassName,this),this.props.filter&&(e.className=-1===e.name.toLowerCase().indexOf(this.props.filter)?"node searchExcluded":"node searchIncluded")}},{key:"render",value:function(){"0"===this.props.activeNode&&(v(null),this.props.editMode?this.resetCloseSet(this.data):this.populateCloseSet(this.data));var e=this.data;return e=Y()(e),this.props.filter&&(e=this.buildSubTree(e)||e),this.setClassName(e),i.a.createElement("div",null,this.state.formActive&&i.a.createElement(H,{nodeId:this.state.currentNode,data:this.data,formSubmitCB:this.formClose}),i.a.createElement(A.a,{animated:!0,data:e,width:this.props.width,height:this.props.height,keyProp:"id",getChildren:this.getChildren,margins:{bottom:10,left:20,right:100,top:10},gProps:{className:"node",onClick:this.handleClick},svgProps:{viewBox:this.props.panX+" "+this.props.panY+" "+this.props.zoomX+" "+this.props.zoomY},steps:30}))}}]),n}(i.a.PureComponent),B={timestamp:"11/02/2019 22:00",name:"Maheshwar Jha",partner:{name:"Ambika Jha"},children:[{name:"Manju Jha",partner:{name:"Hemdhar Jha"},children:[{name:"Ambikesh Jha",partner:{name:"Anu Jha"},children:[{name:"Aayushi Jha",children:[]},{name:"Adya Jha",children:[]}]},{name:"Rajesh Jha",partner:{name:"Nirjala Jha"},children:[{name:"Rajat Jha",children:[]},{name:"Aditya Jha",children:[]}]},{name:"Kamlesh Jha",partner:{name:"Vandana Jha"},children:[{name:"Harshit Jha",children:[]},{name:"Kartik Jha",children:[]}]},{name:"Shailesh Jha",partner:{name:"Aruna Jha"},children:[{name:"Yash",children:[]},{name:"Juhi",children:[]}]}]},{name:"Arvind Jha",partner:{name:"Sabri Devi"},children:[{name:"Jaya Jha",partner:{name:"Awadhesh Jha"},children:[{name:"Aryaman Jha",children:[]}]},{name:"Jyoti Pathak",partner:{name:"Rajesh Pathak"},children:[{name:"Rashi Pathak",children:[]},{name:"Aastha Pathak",children:[]}]},{name:"Prakash Jha",partner:{name:"Rishu Shandilya"},children:[]},{name:"Preeti Jha",partner:{name:"Swapnil Pathade"},children:[]}]},{name:"Sunita Jha",partner:{name:"Bihari Jha"},children:[{name:"Chandan Jha",partner:{name:"Kabita Jha"},children:[{name:"Vinamra Jha",children:[]}]},{name:"Rachna Jha",partner:{name:"Santosh Jha"},children:[{name:"Karnika Jha",children:[]},{name:"Umang Jha",children:[]}]}]},{name:"Birendra Jha",partner:{name:"Renu Jha"},children:[{name:"Vikas Jha",partner:{name:"Niharica Jha"},children:[]},{name:"Subhash Jha",partner:{name:"Renuka Mishra"},children:[]},{name:"Shilpa Bharati",children:[]}]},{name:"Dhirendra Jha",partner:{name:"Usha Jha"},children:[{name:"Neha Jha",children:[]},{name:"Nupur Jha",children:[]}]},{name:"Sujata Jha",partner:{name:"Amar Nath Jha"},children:[{name:"Kadambari Jha",partner:{name:"BK Jha"},children:[{name:"Child 1",children:[]},{name:"Child 2",children:[]}]},{name:"Shyam Nath Jha",partner:{name:"Anjana Jha"},children:[{name:"Atharva Jha",children:[]}]},{name:"Priya Jha",children:[{name:"Rishi Jha",children:[]}]},{name:"Aditya Nath Jha",partner:{name:"Priyanka Jha"},children:[{name:"Child 1",children:[]},{name:"Child 2",children:[]}]}]}]},V=n(43);n(131);y()(window).on("resize",p);var K=1,U=0,F=0;window.resetGlobal=function(){K=1,U=0,F=0};var G=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).touchStartHandler=function(e){1===e.touches.length?(a.enableDrag=!0,a.lastPos={x:e.touches[0].clientX,y:e.touches[0].clientY}):2===e.touches.length&&(a.scaling=!0,a.lastDis=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY))},a.touchMoveHandler=function(e){if(e.preventDefault(),1===e.touches.length){if(!a.enableDrag)return;U+=a.lastPos.x-e.touches[0].clientX,F+=a.lastPos.y-e.touches[0].clientY,a.lastPos={x:e.touches[0].clientX,y:e.touches[0].clientY},f(U,F)}else if(2===e.touches.length){if(!a.scaling)return;var t=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY);K+=.01*(t-a.lastDis),a.lastDis=t,K=Math.min(Math.max(.125,K),4),m(a.props.width/K,a.props.height/K,K)}},a.touchEndHandler=function(e){1===e.touches.length&&(a.enableDrag=!1),2===e.touches.length&&(a.scaling=!1)},a.startDrag=function(e){a.enableDrag=!0,a.lastPos={x:window.event.clientX,y:window.event.clientY}},a.stopDrag=function(e){a.enableDrag=!1},a.handleDrag=function(e){e.preventDefault(),a.enableDrag&&(U+=a.lastPos.x-window.event.clientX,F+=a.lastPos.y-window.event.clientY,a.lastPos={x:window.event.clientX,y:window.event.clientY},f(U,F))},a.handleWheel=function(e){e.preventDefault(),e.ctrlKey?(K+=-.01*e.deltaY,K=Math.min(Math.max(.125,K),4),m(a.props.width/K,a.props.height/K,K)):(U+=e.deltaX,F+=e.deltaY,f(U,F)),e.stopPropagation()},a.id=0,a.treeContainerRef=i.a.createRef(),a.json=a.addIdToNode(B),a.addParent(a.json),a.addIdToPartner(a.json),a.enableDrag=!1,a.scaling=!1,a.lastPos={x:0,y:0},a.lastDis=0,a}return Object(N.a)(n,[{key:"addIdToPartner",value:function(e){if(e.partner&&(e.partner.id=(this.id++).toString()),e.children&&e.children.length)for(var t=0;t<e.children.length;t++)this.addIdToPartner(e.children[t])}},{key:"addParent",value:function(e){if(e.children&&e.children.length)for(var t=0;t<e.children.length;t++)e.children[t].parent=e.id,this.addParent(e.children[t])}},{key:"addIdToNode",value:function(e){if(!e)return e;if(e.id=(this.id++).toString(),e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++)this.addIdToNode(e.children[t]);return e}},{key:"componentDidMount",value:function(){window.addEventListener("wheel",this.handleWheel,{passive:!1}),window.addEventListener("mousedown",this.startDrag,{passive:!1}),window.addEventListener("mousemove",this.handleDrag,{passive:!1}),window.addEventListener("mouseup",this.stopDrag,{passive:!1}),window.addEventListener("touchstart",this.touchStartHandler,{passive:!1}),window.addEventListener("touchmove",this.touchMoveHandler,{passive:!1}),window.addEventListener("touchend",this.touchEndHandler,{passive:!1}),window.addEventListener("touchcancel",this.touchEndHandler,{passive:!1})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("wheel",this.handleWheel,{passive:!1}),window.removeEventListener("mousedown",this.startDrag,{passive:!1}),window.removeEventListener("mousemove",this.handleDrag,{passive:!1}),window.removeEventListener("mouseup",this.stopDrag,{passive:!1}),window.removeEventListener("touchstart",this.touchStartHandler,{passive:!1}),window.removeEventListener("touchmove",this.touchMoveHandler,{passive:!1}),window.removeEventListener("touchend",this.touchEndHandler,{passive:!1}),window.removeEventListener("touchcancel",this.touchEndHandler,{passive:!1})}},{key:"componentWillReceiveProps",value:function(e){this.props.height===e.height&&this.props.width===e.width||m(e.width/K,e.height/K,K)}},{key:"render",value:function(){return i.a.createElement("div",{id:"container"},i.a.createElement(O,{filter:this.props.filter,timestamp:B.timestamp}),i.a.createElement(W,{activeNode:this.props.activeNode,data:this.json,filter:this.props.filter,height:this.props.height,width:this.props.width,panX:this.props.panX,panY:this.props.panY,zoomX:this.props.zoomX,zoomY:this.props.zoomY,editMode:this.props.editMode}))}}]),n}(i.a.PureComponent),Z=G=Object(V.b)((function(e){return e}))(G);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(J.a,null,i.a.createElement(C.c,null,i.a.createElement(C.a,{path:"/tree",exact:!0},i.a.createElement(V.a,{store:b},i.a.createElement(Z,{editMode:!1}))),i.a.createElement(C.a,{path:"/tree/edit"},i.a.createElement(V.a,{store:b},i.a.createElement(Z,{editMode:!0}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,n){e.exports=n(134)},93:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.47f26a77.chunk.js.map